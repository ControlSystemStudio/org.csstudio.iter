<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Alarm DataSource</title>
    </head>

    <body>
        <h1>Alarm (BEAST) DataSource</h1>

        <h2>PV syntax</h2>
        The standard prefix for the datasource is <code>alarm://</code> which can be omitted if configured as the default datasource.
        <p>
        <table border=1>
            <tr><th>Syntax</th><th>Description</th></tr>
            <tr>
                <td><code>alarm://PV_in_beast_alarmserver</code></td>
                <td>PV holds the latched state of the alarm and value, and if it has been acknowledged in BEAST.
                Writing a "ACK" or "UN-ACK" to the PV will acknowledge or un-acknowledge the alarm</td>
            </tr>
        </table>
        <h3>Client side parameters</h3>
        The data source supports a small number of client parameters that specify
        how to handle the topic at the client side. These parameters are stripped
        from the request and never reach the server.
        <p>
        The parameter block is a JSON object separated from the pv name by a space (i.e ' ').
        The currently supported parameters are:
        <ul>
            <li><code>alarm://mypv {"topic":"NameOfTopic"}</code> 
            <br/>changes the default topic from preferences</li>
        </ul>
        Note that at this time the JSON notation has to match exactly (no extra spaces) and does not
        support the mix of parameters. This will be fixed in a future version.
        
        Note PVManager will think this is a formula because of the ":", so single quotes are needed in this case:
        <code>'alarm://mypv {"topic":"NameOfTopic"}'</code> 

    </body>
</html>