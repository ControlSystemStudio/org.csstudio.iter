<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>ICH Sample</title>
        <script language="JavaScript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" />
</head>

<body>
<h1>ICH Sample</h1>
<h2>Description of the sample</h2>
The Ion Cyclotron Heating & Current Drive System (PBS 51 ICH) 
has been used as a simplified Use Case to demonstrate the ITER 
CODAC Core System V2 functionalities. All input and output data 
are simulated and this EPICS Soft IOC can be used as a standalone 
application to test the delivered components.
<p>
The sample allows the user to switch on one or both antennas, 
start a pulse sequence and monitor the four RF sources of each 
antenna.
<p>
By clicking on an RF Unit, the user can display a detailed view 
of the components and adjust the setpoints that control the RF 
power ramping during the pulse.
<p>
Also included in the sample are maintenance screens for the main 
RF source components with the list of all PVs to monitor and 
control the master synthesiser, the auxiliaries, the power 
supplies and the DC biasing power supply. These interfaces are 
accessible by clicking the component on the detailed RF Unit 
display. The sample also proposes a possible implementation of 
the plant system Common Operational States (COS). The latter 
provide simple and synthetic state information for CODAC to 
manage the plant systems in a coherent manner. The COS monitoring 
screen is opened by clicking on the RF-ICH1 or RF-ICH2 antenna 
area of the main screen.

<h2>Documentation</h2>
<a href='javascript:liveAction("org.csstudio.iter.css.product", "org.csstudio.iter.css.product.activehelp.ActiveHelpOpenCodacPdf","ICH_Sample_Quick_Start_Guide.pdf")'>
ICH Sample Quick Start Guide</a> - Short introduction into the advanced 
example of a control system.

<h2>Quick details</h2>
Core System installation is required to run ICH Sample. When 
this is done, enter the following command in a console:
<p>
$ rf-ich-sample-iocs start
<p>
This will start the EPICS IOCs "Input Output Controllers" which 
hold and run databases of "records" representing devices to be 
controlled and internal process variable (PV). To launch the 
operator interface, enter the command:
<p>
$ css
<p>
If needed you can {start|stop|status|restart} the services with 
the commands:
<p>
$ css-services xxx and rf-ich-sample-archive-engine xxx
<p>
The user will be requested to select a Workspace (directory) to 
store and retrieve the project files and preferences: enter for 
instance, ich-sample-workspace. The Welcome screen will then give 
access to useful information. Click on the workbench icon once 
one have finished your overview of CSS tools. To open the main 
ICH Sample display, click on the icon "Open Top OPIs in run mode" 
from the toolbar and select "RFUnits.opi". To have a more 
convenient view, it is recommended to open a dedicated perspective 
using the menu Window -> Open Perspective -> Other and then 
select OPI Runtime. By right clicking on the main ICH Sample 
display one can switch to compact mode or full screen size.
<p>
To close the application, click on the cross icon at the 
upper-right corner of the CSS windows. Do not forget to stop the 
IOCs, by using the following command in a console:
<p>
$ ich-sample-iocs stop
<p>
<h2>Instructions</h2>
By default the two RF source antennas are switched off and are 
not included in the pulse program. You have first to switch on 
one or both antennas using the scroll bar in the antenna RF-ICH1 
or RF-ICH2 area and selecting "Switch On". The components of the 
four RF sources of the selected antenna are progressively switched 
on and become ready: auxiliaries AUX1 / AUX2 and power supplies 
PS1 / PS2 of each amplifier chain are displayed in a transient 
colour and then in green. When each RF Unit OPSTATE is ready, the 
pulse sequence is in the Ready state for the next pulse. Then, 
just click on the button to start the sequence, the pulse number 
is incremented and the countdown starts. Each RF Source initialises, 
 RF power validation of the master synthesiser is switched on as 
well as the high voltage stage HVA1 / HVA2 displayed in green. 
The final step in the preparation sequence is supervised by the 
fast-timing system until Tp = 0s.
<p>Then, the pulse is under the 
control of the plasma control system in real time. In ICH Sample, 
real time events are simulated as soft events by triggering PV. 
During the "Pulse" step of the sequence, the ramping up of power 
starts on each of the RF Units participating in the sequence. As 
explained, the ICH Sample can be monitored on different levels 
just by clicking on an element of interest. Try it on the pulse 
sequence itself, an antenna, an RF Unit or an RF source component. 
When the pulse ends, all RF Units and the sequence become ready 
for the next pulse. The RF amplifiers and the master synthesiser 
return to the Not Ready state and are displayed in a transient 
colour.
<p>
<h2>Other monitoring tools</h2>
You can monitor and acknowledge the alarms triggered by ICH 
Sample PVs by opening the dedicated perspective: menu Window -> 
Open Perspective -> Other and then select Alarm. You can add the 
Message History View to this perspective to access to the log 
database using the menu CSS -> Alarm -> Message History.
<p>
It could be interesting to use CSS Data Browser to display PV 
archived or real time trends. Just click on the menu Window -> 
Open Perspective -> Other and then select Data Browser. From the 
toolbar, click on the icon "Open new Data Browser plot" and an 
empty plot is displayed. In the Pattern of the Archive Search 
View on the left, type "RF*" then "Enter". Archived PVs are 
listed and you can drag and drop them in the plot to display the 
archived and real time values.
</body>
</html>